# การออกแบบ Use Case สำหรับระบบเลือกตั้งออนไลน์ (Online Election System)

## **1\. ผังภาพรวม (Use Case Diagram Representation)**

**Actors**:  
**กกต กลาง (Central EC)** ผู้ดูแลระบบสูงสุด มีหน้าที่จัดการข้อมูลพื้นฐานและควบคุมการเลือกตั้ง  
**ผู้มีสิทธิเลือกตั้ง (Voter)** ผู้ใช้งานที่ยืนยันตัวตนผ่าน Google API เพื่อลงคะแนน  
**ผู้ใช้ทั่วไป (General User)** ผู้เข้าแล้วชมเว็บไซต์เพื่อดูผลคะแนน

### **รายการ Use Case ตามลำดับความสำคัญ (Use Case ID)**

| UC ID | ชื่อ Use Case (Thai) | คำอธิบาย  | ผู้ใช้งาน (Actor) |
| :---- | :---- | :---- | :---- |
| UC-01 | จัดการพรรคการเมือง | เพิ่ม/แก้ไข/ลบ ข้อมูลพรรคการเมือง | กกต กลาง |
| UC-02 | จัดการเขตเลือกตั้ง | ระบุรายชื่อเขตเลือกตั้งและพื้นที่รับผิดชอบ | กกต กลาง |
| UC-03 | กำหนดวันเวลาเลือกตั้ง | ตั้งค่าช่วงเวลา Start/End ของการลงคะแนน | กกต กลาง |
| UC-04 | ลงทะเบียนผู้มีสิทธิ์ | นำเข้าข้อมูลหรือตรวจสอบสิทธิ์ผู้ที่มีโอกาสเลือกตั้ง | กกต กลาง |
| UC-05 | ลงทะเบียนผู้สมัคร | กกต. กรอกข้อมูลผู้สมัครและอัปโหลดเอกสาร/รูปภาพ | กกต กลาง |
| UC-06 | สุ่มหมายเลขผู้สมัคร | ระบบรันเลขหมายเลขประจำตัวผู้สมัครแบบสุ่ม | กกต กลาง |
| UC-07 | ยืนยันตัวตนผ่าน Google | ลงทะเบียนและ Login ด้วย Google OAuth | ผู้มีสิทธิ |
| UC-08 | เปิดระบบเลือกตั้ง | กดยืนยันเพื่อให้ระบบเริ่มรับคะแนนตามเวลาที่กำหนด | กกต กลาง |
| UC-09 | ลงคะแนนเลือกตั้ง | เลือกผู้สมัครที่ต้องการในเขตของตนเอง (ลงได้ครั้งเดียว) | ผู้มีสิทธิ |
| UC-10 | ยืนยันการเลือกตั้ง | กกต กดยืนยันความถูกต้องของผลคะแนนหลังปิดหีบ | กกต กลาง |
| UC-11 | ดูคะแนนการเลือกตั้ง | ดู Dashboard ผลคะแนนแบบ Real-time หรือสรุปผล | ผู้ใช้ทั่วไป |

## **2\. รายละเอียดขั้นตอนสำคัญ (Key Scenarios)**

### **UC-05: ลงทะเบียนผู้สมัคร (Candidate Registration by EC)**

**การทำงาน** กกต กลาง เป็นผู้ป้อนข้อมูลชื่อ-นามสกุล, สังกัดพรรค, และเขตเลือกตั้งของผู้สมัคร พร้อมทั้งอัปโหลดไฟล์รูปภาพและเอกสารที่เกี่ยวข้องเข้าระบบโดยตรง  
**ผลลัพธ์** ข้อมูลผู้สมัครจะถูกบันทึกลงในฐานข้อมูลในสถานะ "รอการสุ่มหมายเลข"

### **UC-06: สุ่มหมายเลขผู้สมัคร (Randomize Numbers)**

**เงื่อนไข** ต้องทำหลังจาก กกต. ลงทะเบียนผู้สมัคร (UC-05) ครบถ้วนแล้ว  
**การทำงาน** กกต. กดปุ่มสุ่ม ระบบจะสุ่มเลข ให้กับผู้สมัครในแต่ละเขตโดยไม่ซ้ำกัน และบันทึกลงในฐานข้อมูล PostgreSQL

### **UC-09: ลงคะแนนเลือกตั้ง (Voting)**

**เงื่อนไข** ผู้ใช้งานต้อง Login ผ่าน Google และอยู่ในเขตที่กำหนด  
**การทำงาน**

1. ระบบเช็คฟิลด์ has\_voted ในตาราง User  
   2. หากยังไม่เคยลง ระบบจะบันทึกคะแนนในตาราง Vote (Anonymous)  
   3. อัปเดต has\_voted \= True ทันทีใน Transaction เดียวกัน

### **UC-10: ยืนยันการเลือกตั้ง (Finalize Results)**

**การทำงาน** กกต. ตรวจสอบ Log ความผิดปกติ หากถูกต้องให้กดยืนยัน เพื่อเปลี่ยนสถานะการเลือกตั้งเป็น "Official Result" ข้อมูลจะถูก Lock ไม่ให้แก้ไขได้อีก